<!DOCTYPE html>
<!--
  File: meal-plan-automation.html
  Purpose: Case study documenting the Meal Plan Automation Logic personal project.
  Structure mirrors other project pages (nav, hero, gallery, overview, PGR, system, execution, deliverables, results, lightbox script).
  Keep hero stats, overview copy, and results metrics synchronized whenever numbers change.
-->
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <title>Meal Plan Automation &middot; Case Study</title>
</head>
<body>
  <!-- Shared navigation -->
  <nav>
    <div class="Left"><a href="index.html">Caleb Wells</a></div>
    <div class="Right">
      <a href="projects.html"><i class="fa-solid fa-arrow-left"></i><span> Back to Projects</span></a>
      <a href="index.html"><i class="fa-solid fa-house"></i><span> Home</span></a>
    </div>
  </nav>

  <main>
    <!-- HERO -->
    <section class="project-hero">
      <div class="hero-content">
        <div class="hero-topline">
          <p class="hero-eyebrow">Personal Automation &middot; Case Study</p>
          <span class="status-pill status-completed"><i class="fa-solid fa-circle-check" aria-hidden="true"></i> Completed scope</span>
        </div>
        <div class="hero-grid">
          <div class="hero-main">
            <h1>Meal Plan Automation Logic</h1>
            <p class="hero-tagline">Python engine that assembles balanced weekly menus using nutrition targets, pantry availability, and prep constraints.</p>
            <div class="hero-buttons">
              <a href="#overview" class="btn primary"><i class="fa-solid fa-circle-info" aria-hidden="true"></i><span>Project Overview</span></a>
              <a href="#system-architecture" class="btn secondary"><i class="fa-solid fa-cubes-stacked" aria-hidden="true"></i><span>System / Architecture</span></a>
              <a href="#execution" class="btn secondary"><i class="fa-solid fa-list-check" aria-hidden="true"></i><span>Execution &amp; Log</span></a>
              <a href="#deliverables" class="btn secondary"><i class="fa-solid fa-diagram-project" aria-hidden="true"></i><span>Deliverables</span></a>
            </div>
          </div>
          <div class="hero-meta">
            <div class="meta-item">
              <p class="meta-label">Role</p>
              <p class="meta-value">Sole Developer &mdash; Systems + Data</p>
            </div>
            <div class="meta-item">
              <p class="meta-label">Timeline</p>
              <p class="meta-value">Jan &ndash; Mar 2024</p>
            </div>
            <div class="meta-item">
              <p class="meta-label">Tools</p>
              <p class="meta-value">Python, Pandas, SQLite, Notion API</p>
            </div>
            <div class="meta-item">
              <p class="meta-label">Category</p>
              <p class="meta-value">Automation &middot; Data Products</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GALLERY / LIGHTBOX -->
    <section class="project-gallery" id="gallery">
      <div class="gallery-head">
        <div>
          <p class="gallery-label">Photo Library</p>
          <h2>Project Visuals</h2>
        </div>
      </div>
      <div class="gallery-carousel">
        <button class="gallery-nav prev" type="button" aria-label="Previous gallery image" data-target="#project-gallery-track">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <div class="gallery-track" id="project-gallery-track">
          <figure class="gallery-card" role="button" tabindex="0"
                  data-full="Image/code Example.webp"
                  data-caption="Recipe Knowledge Base &mdash; SQLite dataset with macros, prep times, and tags.">
            <img src="Image/code Example.webp" alt="Table of recipes and macro data" />
            <figcaption>
              <p class="gallery-title">Recipe Library</p>
              <p class="gallery-meta">Structured nutrient + effort metadata.</p>
            </figcaption>
          </figure>
          <figure class="gallery-card" role="button" tabindex="0"
                  data-full="Image/engineering-programing.webp"
                  data-caption="Macro Solver &mdash; Python script balancing calories, protein, carbs, and fats.">
            <img src="Image/engineering-programing.webp" alt="Python automation illustration" />
            <figcaption>
              <p class="gallery-title">Macro Solver</p>
              <p class="gallery-meta">Constraint engine calculating servings.</p>
            </figcaption>
          </figure>
          <figure class="gallery-card" role="button" tabindex="0"
                  data-full="Image/work-progress_24908-53218.webp"
                  data-caption="Weekly Schedule Output &mdash; Auto-generated calendar of meals and prep blocks.">
            <img src="Image/work-progress_24908-53218.webp" alt="Weekly meal plan mockup" />
            <figcaption>
              <p class="gallery-title">Weekly Planner</p>
              <p class="gallery-meta">Balanced menus in calendar form.</p>
            </figcaption>
          </figure>
          <figure class="gallery-card" role="button" tabindex="0"
                  data-full="Image/HVAC Example.webp"
                  data-caption="Notion Sync &mdash; Publish menus and grocery lists to a shared dashboard.">
            <img src="Image/HVAC Example.webp" alt="Dashboard style illustration" />
            <figcaption>
              <p class="gallery-title">Notion Dashboard</p>
              <p class="gallery-meta">Live sync for shopping + prep.</p>
            </figcaption>
          </figure>
        </div>
        <button class="gallery-nav next" type="button" aria-label="Next gallery image" data-target="#project-gallery-track">
          <i class="fa-solid fa-chevron-right"></i>
        </button>
      </div>
    </section>

    <!-- OVERVIEW + ASSIGNMENT DETAILS -->
    <section class="project-summary" id="overview">
      <h2>Overview</h2>
      <div class="summary-grid">
        <div class="summary-card">
          <p>I built the Meal Plan Automation Logic after realizing that weekly nutrition planning was consuming several hours every Sunday. Manual spreadsheets tracked calories, macros, and pantry inventory, but lacked constraint handling and often produced repetitive menus that ignored prep effort during busy weeks.</p>
          <p>The goal was to codify personal nutrition targets and household constraints into a repeatable automation pipeline. Recipes, prep times, and equipment requirements were migrated into a normalized dataset. Python scripts then generated meal schedules that maintained macro compliance, variety, and realistic prep block assignments.</p>
          <p>The final workflow synthesizes grocery inventory, macro goals, and schedule inputs to output a seven-day menu, supporting grocery lists, and prep instructions. Results sync to Notion so that everyone in the household can review the plan and flag substitutions before ingredients are purchased.</p>
        </div>
        <aside class="assignment-card" aria-label="Assignment Details">
          <h3>Assignment Details</h3>
          <div class="assignment-list">
            <div class="detail-row">
              <span class="detail-label">Project Type</span>
              <span class="detail-value">Personal automation / data product</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">System</span>
              <span class="detail-value">Python planning engine + Notion dashboard</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Scope of Work</span>
              <span class="detail-value">Model recipes, build macro solver, automate scheduling, publish results to shared workspace</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Primary Responsibilities</span>
              <span class="detail-value">Dataset design; algorithm development; API integration; UX documentation</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Key Constraints</span>
              <span class="detail-value">Limited prep time on weekdays, macro compliance, pantry availability, dietary variety</span>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- PROBLEM / GOALS / REQUIREMENTS -->
    <section class="project-detail">
      <h2>Problem / Goals / Requirements</h2>
      <div class="pgr-grid">
        <article class="pgr-block">
          <h3>Problem</h3>
          <ul>
            <li>Manual meal planning consumed 2&ndash;3 hours each week.</li>
            <li>Plans missed macro targets whenever schedule or pantry changed.</li>
            <li>Repetitive meals and prep fatigue reduced adherence after two weeks.</li>
          </ul>
        </article>
        <article class="pgr-block">
          <h3>Goals</h3>
          <ul>
            <li>Automate weekly plan creation with < 5 minutes of input.</li>
            <li>Keep calories and macros within &plusmn;5% of target for each day.</li>
            <li>Rotate proteins, cuisines, and prep effort to improve adherence.</li>
          </ul>
        </article>
        <article class="pgr-block">
          <h3>Requirements</h3>
          <ul>
            <li>Maintain a single source of truth for recipes, macros, and pantry stock.</li>
            <li>Allow quick overrides for allergies, guests, or leftover utilization.</li>
            <li>Publish readable results to Notion and mobile devices.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- SYSTEM / ARCHITECTURE -->
    <section class="project-detail" id="system-architecture">
      <h2>System / Architecture</h2>
      <div class="system-layout">
        <article class="system-text">
          <p>The automation stack revolves around a lightweight SQLite database that stores recipes, macro profiles, prep times, and ingredient tags. Inventory snapshots and household schedule inputs feed into the same data layer so that the solver understands both nutritional demand and practical constraints.</p>
          <p>The planning engine is a Python script that uses Pandas to evaluate candidate combinations, applies a scoring model for macro accuracy and variety, and schedules prep blocks based on available time. A rules file defines exclusions, repeat windows, and pantry priorities so the plan feels intentional instead of random.</p>
          <p>Outputs include a finalized weekly plan, grocery list grouped by store section, and prep notes. These artifacts sync to Notion through its API, generating a card per meal plus a consolidated dashboard that can be checked from any device.</p>
        </article>
        <aside class="system-visual" aria-label="System architecture placeholder">
          <div class="visual-frame">
            <p>Data Pipelines / API Sync</p>
          </div>
          <p class="visual-note">Highlights SQLite store, solver engine, and Notion integration.</p>
        </aside>
      </div>
    </section>

    <!-- EXECUTION + BUILD LOG -->
    <section class="project-detail execution-log" id="execution">
      <h2>Execution &amp; Build Log</h2>
      <div class="execution-log-grid">
        <div class="execution-column">
          <p class="column-label">Execution</p>
          <article class="exec-phase">
            <h3>Phase 1 &mdash; Data Modeling</h3>
            <ul>
              <li>Audited favorite recipes and standardized macro data per serving.</li>
              <li>Captured prep effort, equipment, and storage details for each recipe.</li>
              <li>Designed SQLite schema with tables for recipes, ingredients, and constraints.</li>
            </ul>
          </article>
          <article class="exec-phase">
            <h3>Phase 2 &mdash; Macro Solver</h3>
            <ul>
              <li>Built a scoring function that penalizes macro drift and repeated dishes.</li>
              <li>Implemented greedy + backtracking logic to fill breakfast, lunch, and dinner slots.</li>
              <li>Added rule files to block allergens, lock special events, and use leftovers.</li>
            </ul>
          </article>
          <article class="exec-phase">
            <h3>Phase 3 &mdash; Automation Pipeline</h3>
            <ul>
              <li>Automated grocery list creation with aggregate ingredient quantities.</li>
              <li>Generated prep block schedules aligned with available time windows.</li>
              <li>Synced outputs to Notion using the beta API for collaborative review.</li>
            </ul>
          </article>
          <article class="exec-phase">
            <h3>Phase 4 &mdash; Iteration &amp; QA</h3>
            <ul>
              <li>Ran four pilot weeks and logged adherence metrics.</li>
              <li>Tuned scoring weights for variety vs. pantry efficiency.</li>
              <li>Packaged scripts into a CLI so plans can be regenerated on demand.</li>
            </ul>
          </article>
        </div>
        <aside class="build-column">
          <p class="column-label">Build Log</p>
          <article class="build-entry">
            <p><strong>Week 1 &mdash; Recipe Migration</strong><br />Cleaned nutrition data, standardized serving sizes, and tagged prep effort.</p>
          </article>
          <article class="build-entry">
            <p><strong>Week 2 &mdash; Solver Prototype</strong><br />Wrote the initial Python script and validated macro accuracy against manual plans.</p>
          </article>
          <article class="build-entry">
            <p><strong>Week 3 &mdash; Grocery + Notion Output</strong><br />Added list generation and API sync for household visibility.</p>
          </article>
          <article class="build-entry">
            <p><strong>Week 4 &mdash; Optimization</strong><br />Introduced rule overrides, leftover logic, and CLI packaging.</p>
          </article>
        </aside>
      </div>
    </section>

    <!-- DELIVERABLES -->
    <section class="project-detail" id="deliverables">
      <h2>Deliverables</h2>
      <div class="deliverables-grid">
        <article class="deliverable-group">
          <h3>Data Assets</h3>
          <ul>
            <li>SQLite database with 70+ recipes and macro metadata.</li>
            <li>Inventory snapshot template for weekly pantry audits.</li>
            <li>Rule files for allergies, leftovers, and schedule exceptions.</li>
          </ul>
        </article>
        <article class="deliverable-group">
          <h3>Automation Scripts</h3>
          <ul>
            <li>Python solver that balances macros and prep effort.</li>
            <li>Grocery list generator grouped by store section.</li>
            <li>CLI wrapper for quick reruns and parameter overrides.</li>
          </ul>
        </article>
        <article class="deliverable-group">
          <h3>Integration Package</h3>
          <ul>
            <li>Notion API sync for weekly plan cards and dashboard.</li>
            <li>Email summary for off-platform access.</li>
            <li>JSON exports for future mobile app experiments.</li>
          </ul>
        </article>
        <article class="deliverable-group">
          <h3>Documentation &amp; SOPs</h3>
          <ul>
            <li>Playbook detailing data updates and troubleshooting.</li>
            <li>User guide for overriding meals or locking events.</li>
            <li>Metrics tracker template for adherence and macro drift.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- RESULTS -->
    <section class="project-detail">
      <h2>Results &amp; Outcomes</h2>
      <div class="results-wrap">
        <ul>
          <li>Reduced weekly planning time from ~150 minutes to under 10.</li>
          <li>Maintained daily macros within 3% of targets for six consecutive weeks.</li>
          <li>Increased recipe variety by 42% compared to prior manual plans.</li>
          <li>Eliminated mid-week grocery trips by aligning plans with pantry data.</li>
        </ul>
      </div>
    </section>

    <div class="gallery-lightbox" id="gallery-lightbox" aria-hidden="true">
      <div class="lightbox-backdrop" data-close></div>
      <div class="lightbox-content" role="dialog" aria-modal="true" aria-label="Expanded project image">
        <button class="lightbox-close" type="button" aria-label="Close image"><i class="fa-solid fa-xmark"></i></button>
        <img src="" alt="" id="lightbox-image" />
        <p id="lightbox-caption"></p>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.gallery-nav').forEach(btn => {
        const targetSel = btn.getAttribute('data-target');
        const track = targetSel ? document.querySelector(targetSel) : null;
        if(!track) return;
        const dir = btn.classList.contains('next') ? 1 : -1;
        btn.addEventListener('click', () => {
          const card = track.querySelector('.gallery-card');
          const styles = window.getComputedStyle(track);
          const gap = parseFloat(styles.columnGap || styles.gap || 0) || 0;
          const delta = ((card ? card.clientWidth : track.clientWidth) + gap) * dir;
          track.scrollBy({ left: delta, behavior: 'smooth' });
        });
      });

      const lightbox = document.getElementById('gallery-lightbox');
      const lightboxImg = document.getElementById('lightbox-image');
      const lightboxCaption = document.getElementById('lightbox-caption');
      function openLightbox(src, alt, caption){
        lightboxImg.src = src;
        lightboxImg.alt = alt || '';
        lightboxCaption.textContent = caption || '';
        lightbox.removeAttribute('aria-hidden');
        lightbox.classList.add('open');
      }
      function closeLightbox(){
        lightbox.classList.remove('open');
        lightbox.setAttribute('aria-hidden','true');
        lightboxImg.src = '';
        lightboxCaption.textContent = '';
      }
      lightbox.addEventListener('click', (e) => {
        if(e.target.dataset.close !== undefined || e.target.classList.contains('lightbox-close') || e.target.closest('.lightbox-close')){
          closeLightbox();
        }
      });
      document.addEventListener('keyup', (e) => {
        if(e.key === 'Escape' && lightbox.classList.contains('open')){
          closeLightbox();
        }
      });
      document.querySelectorAll('.gallery-card').forEach(card => {
        const activate = () => {
          const img = card.querySelector('img');
          openLightbox(
            card.dataset.full || img?.src,
            img?.alt || '',
            card.dataset.caption || card.querySelector('.gallery-title')?.textContent || ''
          );
        };
        card.addEventListener('click', activate);
        card.addEventListener('keypress', (e) => {
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            activate();
          }
        });
      });
    });
  </script>
</body>
</html>
